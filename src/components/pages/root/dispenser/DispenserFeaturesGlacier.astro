---
import Eyebrow from "@components/Eyebrow.astro";
import DispenserTitle from "./DispenserTitle.astro";
import DispenserDescription from "./DispenserDescription.astro";
import DispenserImageGlacier from "./DispenserImageGlacier.astro";
---

<div class="space-y-4 md:flex md:flex-col md:justify-between">
  <div class="space-y-4">
    <Eyebrow text="Kompresorski aparat" />
    <DispenserTitle title="Glacier White" />
    <DispenserDescription
      description="Glacier White je kompresorski aparat koji omogućava brzo hlađenje vode na nižim temperaturama i veći kapacitet hladne vode, što ga čini savršenim za veće potrebe i pruža dugoročnu pouzdanost."
    />
  </div>
  <div class="md:hidden">
    <DispenserImageGlacier />
  </div>
  <div class="space-y-13 mt-17 hidden lg:block">
    <div id="perk-1" class="flex gap-x-6 items-center max-w-[450px]">
      <div class="w-14 h-14 flex items-center justify-center bg-primary rounded-full flex-shrink-0">
        <svg width="23" height="26" viewBox="0 0 23 26" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0.0284957 7.1034C0.0795939 7.29811 0.212207 7.47478 0.401999 7.58417L1.06385 7.96159L2.51532 8.78972L0.921515 9.30775C0.723202 9.37146 0.558944 9.51208 0.468932 9.67914L0.465282 9.68395C0.371601 9.85102 0.343619 10.0614 0.39715 10.2645L0.402017 10.2873C0.462848 10.488 0.59668 10.6491 0.768232 10.7453H0.771882C0.945861 10.8438 1.16485 10.8775 1.37534 10.8234L1.38264 10.821L4.2904 10.0517L4.58726 9.97361L4.85736 10.1275L8.76993 12.3595L9.89533 13.0025L8.77357 13.6407L4.85851 15.8751L4.28913 15.9508L1.37526 15.1816C1.16235 15.1251 0.943359 15.1599 0.765733 15.2573V15.2597C0.590536 15.3582 0.449414 15.5301 0.393444 15.7381V15.7405C0.33991 15.9424 0.370328 16.1527 0.462794 16.3246H0.460361C0.55526 16.4917 0.718288 16.6323 0.915374 16.696L2.51282 17.214L1.0565 18.0421L0.397072 18.4159L0.399505 18.4183C0.209708 18.5265 0.0783274 18.7068 0.0272167 18.8991H0.0247837C-0.023882 19.0938 -0.00319909 19.3138 0.107514 19.4989V19.5025C0.215796 19.6852 0.397075 19.8162 0.592956 19.8667H0.594173C0.791268 19.9171 1.01025 19.8967 1.19763 19.7897L1.20128 19.7873L1.85584 19.4135L3.31338 18.5794L2.96664 20.2044C2.92284 20.4087 2.96664 20.6203 3.06884 20.7837C3.17103 20.9496 3.33893 21.0806 3.54331 21.1323C3.75866 21.1888 3.97765 21.1539 4.15284 21.0554C4.32804 20.9544 4.47038 20.7837 4.52513 20.5734V20.5722L5.30621 17.6972L5.65903 17.2477L9.5716 15.0157L10.6958 14.375V20.1274L10.4744 20.6502L8.34524 22.7548V22.7572C8.19438 22.9074 8.1153 23.1154 8.1153 23.3137L8.11773 23.3161C8.11773 23.518 8.1956 23.7236 8.35011 23.8726C8.49732 24.0192 8.69686 24.0974 8.89031 24.1022H8.89152C9.08862 24.107 9.29181 24.0409 9.44508 23.9039L10.6958 22.7981V25.2055C10.6958 25.4255 10.7858 25.6262 10.9306 25.768C11.0742 25.9099 11.2773 26 11.4975 26C11.7202 26 11.9234 25.9099 12.0681 25.768C12.2117 25.6262 12.3017 25.4255 12.3017 25.2055V22.7981L13.5524 23.9039C13.7057 24.0409 13.9089 24.107 14.106 24.1022H14.1084C14.3019 24.0974 14.4978 24.0192 14.6462 23.8726C14.8019 23.7212 14.8822 23.512 14.8822 23.3137C14.8822 23.113 14.8056 22.9075 14.6523 22.7548L12.5232 20.6502L12.3017 20.1274V14.3763L13.4259 15.0157L17.341 17.2477L17.6147 17.4039L17.6938 17.6972L18.4749 20.5735V20.5759C18.5296 20.7838 18.672 20.9557 18.8472 21.0554C19.0224 21.154 19.2389 21.1888 19.4543 21.1324C19.6611 21.0783 19.8314 20.9485 19.9312 20.7862C20.0358 20.6203 20.0772 20.4124 20.0334 20.2057L19.6891 18.5891L21.1393 19.4148L21.778 19.779L21.8036 19.791C21.9909 19.898 22.2124 19.9196 22.4058 19.8691C22.6029 19.8186 22.7818 19.69 22.8901 19.5049L22.8925 19.5013C23.0032 19.3162 23.0239 19.0963 22.9752 18.9016H22.9728C22.9217 18.7081 22.7903 18.529 22.6005 18.4196L21.9423 18.0446L20.4933 17.2189L22.0847 16.6984C22.283 16.6335 22.4448 16.4941 22.5397 16.327H22.5372C22.6297 16.1552 22.6601 15.9448 22.6066 15.7417V15.7405C22.5506 15.5314 22.4095 15.3607 22.2343 15.2609V15.2597C22.0567 15.1624 21.8401 15.1263 21.6248 15.1828L18.7133 15.9544L18.4152 16.035L18.1427 15.8787L14.2227 13.6407L13.1009 13.0001L14.2227 12.3595L18.1377 10.1251L18.409 9.97126L18.7071 10.0494L21.621 10.821C21.8351 10.8775 22.0529 10.8427 22.2293 10.7453V10.7429C22.4057 10.6431 22.5468 10.4725 22.6028 10.2645V10.2621C22.6551 10.059 22.6259 9.84864 22.5335 9.67799H22.5347C22.441 9.51213 22.2792 9.3703 22.0797 9.3054L20.4931 8.78977L21.9385 7.96044L22.5979 7.58182H22.6028C22.7877 7.47485 22.9203 7.29816 22.969 7.10705V7.10104C23.0201 6.90873 22.9982 6.68756 22.8899 6.50368V6.49887C22.778 6.31497 22.6004 6.18398 22.4033 6.13348C22.2074 6.083 21.9847 6.10584 21.7962 6.21281H21.7925L21.1355 6.5866L19.6865 7.41473L20.0296 5.79573C20.1026 5.44957 19.9749 5.18274 19.7681 5.03489H19.7632C19.6671 4.96518 19.5515 4.91229 19.431 4.88465L19.425 4.88104C19.3057 4.8534 19.178 4.84739 19.0563 4.86782H19.0515C18.7996 4.90869 18.5636 5.08778 18.4699 5.43032L17.6912 8.30413L17.6134 8.5986L17.3384 8.75485L13.4258 10.9868L12.3017 11.6287V5.87384L12.5231 5.35221L14.6522 3.24641C14.9004 3.00121 14.9405 2.70794 14.8517 2.46997H14.8493C14.8079 2.35699 14.7374 2.24761 14.6522 2.15987C14.567 2.07213 14.4588 1.99401 14.3468 1.94593C14.1096 1.84497 13.8164 1.8666 13.5524 2.09857L12.3017 3.20194V0.795671C12.3017 0.574516 12.2116 0.373791 12.0681 0.231974C11.9233 0.0901455 11.7201 0 11.4975 0C11.2772 0 11.0741 0.0901455 10.9305 0.231974C10.7857 0.373803 10.6957 0.574531 10.6957 0.795671V3.20554L9.44499 2.09854C9.2917 1.96152 9.08853 1.89542 8.89144 1.89902H8.89022C8.69677 1.90503 8.49725 1.98316 8.35002 2.12859C8.19551 2.28123 8.11765 2.48558 8.11765 2.68629L8.11521 2.68749C8.11521 2.88701 8.19429 3.09494 8.34516 3.24519V3.24639L10.4743 5.35219L10.6957 5.87383V11.6311L9.56787 10.9869L5.65873 8.75607L5.30955 8.30655L4.52969 5.43275C4.436 5.08899 4.19997 4.90871 3.9457 4.86785V4.86544C3.8289 4.84742 3.6975 4.85583 3.57098 4.88468C3.4481 4.91232 3.33008 4.96521 3.23398 5.03251L3.23641 5.03492C3.02715 5.18636 2.89698 5.452 2.96997 5.79815L3.31429 7.41715L1.86406 6.58902L1.20707 6.21523H1.20342C1.01484 6.10826 0.793412 6.08422 0.59632 6.13471C0.401657 6.18639 0.219172 6.3162 0.109663 6.50369C0.00138028 6.68999 -0.0229512 6.90994 0.028147 7.10345"
            fill="white"></path>
        </svg>
      </div>
      <div class="text-white">
        <span class="font-semibold">Hlađenje - </span>
        <p class="inline text-white/80">Aparat koristi napredni kompresorski sistem koji omogućava brzo i pouzdano hlađenje vode, čak i u toplim uslovima.</p>
      </div>
    </div>
    <div id="perk-2" class="flex gap-x-6 items-center max-w-[450px]">
      <div class="w-14 h-14 flex items-center justify-center bg-primary rounded-full flex-shrink-0">
        <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M14.398 -0.0078125L13.5073 1.3086C13.1706 1.8064 11.5195 4.27329 9.94455 7.09417C8.78231 5.12509 7.77215 3.59849 7.69611 3.52106L6.79456 2.20464L5.90388 3.52106C5.32819 4.37285 0.277344 11.8952 0.277344 15.2139C0.27766 16.3333 0.555967 17.4345 1.08638 18.4149C1.61679 19.3954 2.38207 20.2233 3.31103 20.8216C4.23999 21.42 5.30246 21.7693 6.39959 21.8372C7.49672 21.905 8.59289 21.6891 9.5861 21.2096C10.7003 22.1371 12.0501 22.7236 13.4785 22.9008C14.907 23.078 16.3555 22.8388 17.6557 22.2108C18.956 21.5829 20.0546 20.5921 20.8238 19.3535C21.5931 18.1149 22.0014 16.6794 22.0014 15.2139C22.0014 11.32 15.9838 2.32633 15.2887 1.3086L14.398 -0.0078125ZM2.44975 15.2139C2.44975 13.5103 4.8394 9.21813 6.79456 6.14282C7.3268 6.98355 8.0437 8.14509 8.73887 9.373C7.71037 11.1664 7.04899 13.1532 6.79456 15.2139C6.79756 16.7198 7.23165 18.1922 8.0437 19.4507C7.39501 19.6491 6.70979 19.6902 6.04273 19.5708C5.37567 19.4515 4.74524 19.1749 4.20178 18.7633C3.65831 18.3517 3.21686 17.8164 2.91266 17.2001C2.60846 16.5838 2.44994 15.9037 2.44975 15.2139ZM14.398 20.745C12.9576 20.745 11.5762 20.1623 10.5577 19.125C9.53916 18.0877 8.96697 16.6808 8.96697 15.2139C8.96697 13.0789 12.0083 7.64729 14.398 3.9193C16.7876 7.63623 19.829 13.0678 19.829 15.2139C19.829 16.6808 19.2568 18.0877 18.2383 19.125C17.2198 20.1623 15.8384 20.745 14.398 20.745Z"
            fill="white"></path>
        </svg>
      </div>
      <div class="text-white">
        <span class="font-semibold">Kapacitet - </span>
        <p class="inline text-white/80">Dizajniran za dugotrajnu upotrebu i veći protok vode, idealan za kancelarije i komercijalne prostore.</p>
      </div>
    </div>
    <div id="perk-3" class="flex gap-x-6 items-center max-w-[450px]">
      <div class="w-14 h-14 flex items-center justify-center bg-primary rounded-full flex-shrink-0">
        <svg width="20" height="28" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M16.1459 2.5193C14.0907 0.607709 11.431 -0.261198 8.65043 0.0683875C6.50887 0.326063 4.48244 1.35677 2.95111 2.95675C1.41402 4.56273 0.452624 6.67807 0.239619 8.90727C0.0611553 10.5971 0.297188 12.299 0.913175 13.8211C1.50613 15.2773 2.44451 16.5776 3.63043 17.5844C4.38458 18.2615 4.80483 19.1604 4.80483 20.1132C4.80483 20.1551 4.81059 20.1971 4.81059 20.233V24.1101C4.81059 25.9918 6.27859 27.5498 8.09201 27.5498H11.431C13.2387 27.5498 14.7124 26.0038 14.7124 24.1221L14.7067 20.263C14.7067 19.2982 15.1212 18.3514 15.8178 17.7282C18.0572 15.7926 19.3467 12.9702 19.3467 9.98591C19.341 7.12151 18.1781 4.40693 16.1459 2.5193ZM11.431 25.5064H8.09201C7.36089 25.5064 6.76793 24.8652 6.76793 24.1041V20.9521H9.55426C9.62334 20.9521 9.69243 20.9761 9.76151 20.9761C9.83059 20.9761 9.90543 20.9521 9.96876 20.9521H12.7493L12.7551 24.1281C12.7551 24.8892 12.1621 25.5064 11.431 25.5064ZM14.5628 16.1522C14.557 16.1581 14.5512 16.1701 14.5512 16.1761C13.7568 16.8832 13.1926 17.836 12.922 18.9147H10.7402V13.0361C11.2525 13.0061 11.6613 12.5627 11.6613 12.0233C11.6613 11.4601 11.2238 11.0046 10.6826 11.0046H8.84041C8.29926 11.0046 7.86174 11.4601 7.86174 12.0233C7.86174 12.5687 8.27048 13.0061 8.78284 13.0361V18.9147H6.61825C6.35919 17.7761 5.76623 16.8113 4.89694 16.0383C4.89118 16.0323 4.88543 16.0203 4.87967 16.0143C3.93554 15.2173 3.18715 14.1806 2.72084 13.0301C2.22574 11.8076 2.04728 10.4893 2.18545 9.123C2.18545 9.123 2.18545 9.117 2.18545 9.11101C2.53662 5.47359 5.34598 2.5193 8.87495 2.09384C11.0914 1.83017 13.2156 2.5193 14.8506 4.04139C16.4625 5.5395 17.3894 7.70278 17.3894 9.97992C17.3836 12.3529 16.3589 14.6061 14.5628 16.1522Z"
            fill="white"></path>
        </svg>
      </div>
      <div class="text-white">
        <span class="font-semibold">Efikasnost - </span>
        <p class="inline text-white/80">Aparat koristi energetski efikasan kompresorski sistem koji štedi struju i smanjuje troškove.</p>
      </div>
    </div>
  </div>

  <div class="flex flex-col space-y-4 lg:hidden">
    <!-- Perks Container -->
    <div class="flex items-center space-x-4">
      <div class="perk relative flex flex-col items-center opacity-50 transition-opacity duration-300">
        <svg viewBox="0 0 100 100" class="w-10 md:w-14 h-10 md:h-14">
          <circle cx="50" cy="50" r="45" class="fill-primary stroke-transparent stroke-[5]"></circle>
          <circle cx="50" cy="50" r="45" class="progress-circle fill-none stroke-white stroke-[5]"></circle>
        </svg>
        <svg
          class="absolute top-1/2 left-1/2 w-4 h-4 -translate-1/2 md:w-5 md:h-5"
          width="23"
          height="26"
          viewBox="0 0 23 26"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.0284957 7.1034C0.0795939 7.29811 0.212207 7.47478 0.401999 7.58417L1.06385 7.96159L2.51532 8.78972L0.921515 9.30775C0.723202 9.37146 0.558944 9.51208 0.468932 9.67914L0.465282 9.68395C0.371601 9.85102 0.343619 10.0614 0.39715 10.2645L0.402017 10.2873C0.462848 10.488 0.59668 10.6491 0.768232 10.7453H0.771882C0.945861 10.8438 1.16485 10.8775 1.37534 10.8234L1.38264 10.821L4.2904 10.0517L4.58726 9.97361L4.85736 10.1275L8.76993 12.3595L9.89533 13.0025L8.77357 13.6407L4.85851 15.8751L4.28913 15.9508L1.37526 15.1816C1.16235 15.1251 0.943359 15.1599 0.765733 15.2573V15.2597C0.590536 15.3582 0.449414 15.5301 0.393444 15.7381V15.7405C0.33991 15.9424 0.370328 16.1527 0.462794 16.3246H0.460361C0.55526 16.4917 0.718288 16.6323 0.915374 16.696L2.51282 17.214L1.0565 18.0421L0.397072 18.4159L0.399505 18.4183C0.209708 18.5265 0.0783274 18.7068 0.0272167 18.8991H0.0247837C-0.023882 19.0938 -0.00319909 19.3138 0.107514 19.4989V19.5025C0.215796 19.6852 0.397075 19.8162 0.592956 19.8667H0.594173C0.791268 19.9171 1.01025 19.8967 1.19763 19.7897L1.20128 19.7873L1.85584 19.4135L3.31338 18.5794L2.96664 20.2044C2.92284 20.4087 2.96664 20.6203 3.06884 20.7837C3.17103 20.9496 3.33893 21.0806 3.54331 21.1323C3.75866 21.1888 3.97765 21.1539 4.15284 21.0554C4.32804 20.9544 4.47038 20.7837 4.52513 20.5734V20.5722L5.30621 17.6972L5.65903 17.2477L9.5716 15.0157L10.6958 14.375V20.1274L10.4744 20.6502L8.34524 22.7548V22.7572C8.19438 22.9074 8.1153 23.1154 8.1153 23.3137L8.11773 23.3161C8.11773 23.518 8.1956 23.7236 8.35011 23.8726C8.49732 24.0192 8.69686 24.0974 8.89031 24.1022H8.89152C9.08862 24.107 9.29181 24.0409 9.44508 23.9039L10.6958 22.7981V25.2055C10.6958 25.4255 10.7858 25.6262 10.9306 25.768C11.0742 25.9099 11.2773 26 11.4975 26C11.7202 26 11.9234 25.9099 12.0681 25.768C12.2117 25.6262 12.3017 25.4255 12.3017 25.2055V22.7981L13.5524 23.9039C13.7057 24.0409 13.9089 24.107 14.106 24.1022H14.1084C14.3019 24.0974 14.4978 24.0192 14.6462 23.8726C14.8019 23.7212 14.8822 23.512 14.8822 23.3137C14.8822 23.113 14.8056 22.9075 14.6523 22.7548L12.5232 20.6502L12.3017 20.1274V14.3763L13.4259 15.0157L17.341 17.2477L17.6147 17.4039L17.6938 17.6972L18.4749 20.5735V20.5759C18.5296 20.7838 18.672 20.9557 18.8472 21.0554C19.0224 21.154 19.2389 21.1888 19.4543 21.1324C19.6611 21.0783 19.8314 20.9485 19.9312 20.7862C20.0358 20.6203 20.0772 20.4124 20.0334 20.2057L19.6891 18.5891L21.1393 19.4148L21.778 19.779L21.8036 19.791C21.9909 19.898 22.2124 19.9196 22.4058 19.8691C22.6029 19.8186 22.7818 19.69 22.8901 19.5049L22.8925 19.5013C23.0032 19.3162 23.0239 19.0963 22.9752 18.9016H22.9728C22.9217 18.7081 22.7903 18.529 22.6005 18.4196L21.9423 18.0446L20.4933 17.2189L22.0847 16.6984C22.283 16.6335 22.4448 16.4941 22.5397 16.327H22.5372C22.6297 16.1552 22.6601 15.9448 22.6066 15.7417V15.7405C22.5506 15.5314 22.4095 15.3607 22.2343 15.2609V15.2597C22.0567 15.1624 21.8401 15.1263 21.6248 15.1828L18.7133 15.9544L18.4152 16.035L18.1427 15.8787L14.2227 13.6407L13.1009 13.0001L14.2227 12.3595L18.1377 10.1251L18.409 9.97126L18.7071 10.0494L21.621 10.821C21.8351 10.8775 22.0529 10.8427 22.2293 10.7453V10.7429C22.4057 10.6431 22.5468 10.4725 22.6028 10.2645V10.2621C22.6551 10.059 22.6259 9.84864 22.5335 9.67799H22.5347C22.441 9.51213 22.2792 9.3703 22.0797 9.3054L20.4931 8.78977L21.9385 7.96044L22.5979 7.58182H22.6028C22.7877 7.47485 22.9203 7.29816 22.969 7.10705V7.10104C23.0201 6.90873 22.9982 6.68756 22.8899 6.50368V6.49887C22.778 6.31497 22.6004 6.18398 22.4033 6.13348C22.2074 6.083 21.9847 6.10584 21.7962 6.21281H21.7925L21.1355 6.5866L19.6865 7.41473L20.0296 5.79573C20.1026 5.44957 19.9749 5.18274 19.7681 5.03489H19.7632C19.6671 4.96518 19.5515 4.91229 19.431 4.88465L19.425 4.88104C19.3057 4.8534 19.178 4.84739 19.0563 4.86782H19.0515C18.7996 4.90869 18.5636 5.08778 18.4699 5.43032L17.6912 8.30413L17.6134 8.5986L17.3384 8.75485L13.4258 10.9868L12.3017 11.6287V5.87384L12.5231 5.35221L14.6522 3.24641C14.9004 3.00121 14.9405 2.70794 14.8517 2.46997H14.8493C14.8079 2.35699 14.7374 2.24761 14.6522 2.15987C14.567 2.07213 14.4588 1.99401 14.3468 1.94593C14.1096 1.84497 13.8164 1.8666 13.5524 2.09857L12.3017 3.20194V0.795671C12.3017 0.574516 12.2116 0.373791 12.0681 0.231974C11.9233 0.0901455 11.7201 0 11.4975 0C11.2772 0 11.0741 0.0901455 10.9305 0.231974C10.7857 0.373803 10.6957 0.574531 10.6957 0.795671V3.20554L9.44499 2.09854C9.2917 1.96152 9.08853 1.89542 8.89144 1.89902H8.89022C8.69677 1.90503 8.49725 1.98316 8.35002 2.12859C8.19551 2.28123 8.11765 2.48558 8.11765 2.68629L8.11521 2.68749C8.11521 2.88701 8.19429 3.09494 8.34516 3.24519V3.24639L10.4743 5.35219L10.6957 5.87383V11.6311L9.56787 10.9869L5.65873 8.75607L5.30955 8.30655L4.52969 5.43275C4.436 5.08899 4.19997 4.90871 3.9457 4.86785V4.86544C3.8289 4.84742 3.6975 4.85583 3.57098 4.88468C3.4481 4.91232 3.33008 4.96521 3.23398 5.03251L3.23641 5.03492C3.02715 5.18636 2.89698 5.452 2.96997 5.79815L3.31429 7.41715L1.86406 6.58902L1.20707 6.21523H1.20342C1.01484 6.10826 0.793412 6.08422 0.59632 6.13471C0.401657 6.18639 0.219172 6.3162 0.109663 6.50369C0.00138028 6.68999 -0.0229512 6.90994 0.028147 7.10345"
            fill="white"></path>
        </svg>
      </div>

      <div class="perk relative flex flex-col items-center opacity-50 transition-opacity duration-300">
        <svg viewBox="0 0 100 100" class="w-10 md:w-14 h-10 md:h-14">
          <circle cx="50" cy="50" r="45" class="fill-primary stroke-transparent stroke-[5]"></circle>
          <circle cx="50" cy="50" r="45" class="progress-circle fill-none stroke-white stroke-[5]"></circle>
        </svg>
        <svg
          class="absolute top-1/2 left-1/2 -translate-1/2 w-4 h-4 md:w-5 md:h-5"
          width="22"
          height="23"
          viewBox="0 0 22 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.398 -0.0078125L13.5073 1.3086C13.1706 1.8064 11.5195 4.27329 9.94455 7.09417C8.78231 5.12509 7.77215 3.59849 7.69611 3.52106L6.79456 2.20464L5.90388 3.52106C5.32819 4.37285 0.277344 11.8952 0.277344 15.2139C0.27766 16.3333 0.555967 17.4345 1.08638 18.4149C1.61679 19.3954 2.38207 20.2233 3.31103 20.8216C4.23999 21.42 5.30246 21.7693 6.39959 21.8372C7.49672 21.905 8.59289 21.6891 9.5861 21.2096C10.7003 22.1371 12.0501 22.7236 13.4785 22.9008C14.907 23.078 16.3555 22.8388 17.6557 22.2108C18.956 21.5829 20.0546 20.5921 20.8238 19.3535C21.5931 18.1149 22.0014 16.6794 22.0014 15.2139C22.0014 11.32 15.9838 2.32633 15.2887 1.3086L14.398 -0.0078125ZM2.44975 15.2139C2.44975 13.5103 4.8394 9.21813 6.79456 6.14282C7.3268 6.98355 8.0437 8.14509 8.73887 9.373C7.71037 11.1664 7.04899 13.1532 6.79456 15.2139C6.79756 16.7198 7.23165 18.1922 8.0437 19.4507C7.39501 19.6491 6.70979 19.6902 6.04273 19.5708C5.37567 19.4515 4.74524 19.1749 4.20178 18.7633C3.65831 18.3517 3.21686 17.8164 2.91266 17.2001C2.60846 16.5838 2.44994 15.9037 2.44975 15.2139ZM14.398 20.745C12.9576 20.745 11.5762 20.1623 10.5577 19.125C9.53916 18.0877 8.96697 16.6808 8.96697 15.2139C8.96697 13.0789 12.0083 7.64729 14.398 3.9193C16.7876 7.63623 19.829 13.0678 19.829 15.2139C19.829 16.6808 19.2568 18.0877 18.2383 19.125C17.2198 20.1623 15.8384 20.745 14.398 20.745Z"
            fill="white"></path>
        </svg>
      </div>

      <div class="perk relative flex flex-col items-center opacity-50 transition-opacity duration-300">
        <svg viewBox="0 0 100 100" class="w-10 md:w-14 h-10 md:h-14">
          <circle cx="50" cy="50" r="45" class="fill-primary stroke-transparent stroke-[5]"></circle>
          <circle cx="50" cy="50" r="45" class="progress-circle fill-none stroke-white stroke-[5]"></circle>
        </svg>
        <svg
          class="absolute top-1/2 left-1/2 -translate-1/2 w-4 h-4 md:w-5 md:h-5"
          width="20"
          height="28"
          viewBox="0 0 20 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.1459 2.5193C14.0907 0.607709 11.431 -0.261198 8.65043 0.0683875C6.50887 0.326063 4.48244 1.35677 2.95111 2.95675C1.41402 4.56273 0.452624 6.67807 0.239619 8.90727C0.0611553 10.5971 0.297188 12.299 0.913175 13.8211C1.50613 15.2773 2.44451 16.5776 3.63043 17.5844C4.38458 18.2615 4.80483 19.1604 4.80483 20.1132C4.80483 20.1551 4.81059 20.1971 4.81059 20.233V24.1101C4.81059 25.9918 6.27859 27.5498 8.09201 27.5498H11.431C13.2387 27.5498 14.7124 26.0038 14.7124 24.1221L14.7067 20.263C14.7067 19.2982 15.1212 18.3514 15.8178 17.7282C18.0572 15.7926 19.3467 12.9702 19.3467 9.98591C19.341 7.12151 18.1781 4.40693 16.1459 2.5193ZM11.431 25.5064H8.09201C7.36089 25.5064 6.76793 24.8652 6.76793 24.1041V20.9521H9.55426C9.62334 20.9521 9.69243 20.9761 9.76151 20.9761C9.83059 20.9761 9.90543 20.9521 9.96876 20.9521H12.7493L12.7551 24.1281C12.7551 24.8892 12.1621 25.5064 11.431 25.5064ZM14.5628 16.1522C14.557 16.1581 14.5512 16.1701 14.5512 16.1761C13.7568 16.8832 13.1926 17.836 12.922 18.9147H10.7402V13.0361C11.2525 13.0061 11.6613 12.5627 11.6613 12.0233C11.6613 11.4601 11.2238 11.0046 10.6826 11.0046H8.84041C8.29926 11.0046 7.86174 11.4601 7.86174 12.0233C7.86174 12.5687 8.27048 13.0061 8.78284 13.0361V18.9147H6.61825C6.35919 17.7761 5.76623 16.8113 4.89694 16.0383C4.89118 16.0323 4.88543 16.0203 4.87967 16.0143C3.93554 15.2173 3.18715 14.1806 2.72084 13.0301C2.22574 11.8076 2.04728 10.4893 2.18545 9.123C2.18545 9.123 2.18545 9.117 2.18545 9.11101C2.53662 5.47359 5.34598 2.5193 8.87495 2.09384C11.0914 1.83017 13.2156 2.5193 14.8506 4.04139C16.4625 5.5395 17.3894 7.70278 17.3894 9.97992C17.3836 12.3529 16.3589 14.6061 14.5628 16.1522Z"
            fill="white"></path>
        </svg>
      </div>
    </div>

    <!-- Text Container -->
    <div class="text-sm font-semibold text-white">
      <div class="perk-text hidden">
        <span class="font-semibold">Hlađenje - </span>
        <p class="inline font-normal text-white/80">
          Aparat koristi napredni kompresorski sistem koji omogućava brzo i pouzdano hlađenje vode, čak i u toplim uslovima.
        </p>
      </div>
      <div class="perk-text hidden">
        <span class="font-semibold">Kapacitet - </span>
        <p class="inline font-normal text-white/80">Dizajniran za dugotrajnu upotrebu i veći protok vode, idealan za kancelarije i komercijalne prostore.</p>
      </div>
      <div class="perk-text hidden">
        <span class="font-semibold">Efikasnost - </span>
        <p class="inline font-normal text-white/80">Aparat koristi energetski efikasan kompresorski sistem koji štedi struju i smanjuje troškove.</p>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const perks = document.querySelectorAll(".perk");
    const texts = document.querySelectorAll(".perk-text");
    const circles = document.querySelectorAll(".progress-circle");
    let currentIndex = 0;
    let intervalTime = 3000;
    let intervalId: any;

    function updatePerks() {
      perks.forEach((perk, index) => {
        const circle = circles[index] as any;

        perk.classList.toggle("opacity-100", index === currentIndex);
        perk.classList.toggle("opacity-50", index !== currentIndex);
        texts[index].classList.toggle("hidden", index !== currentIndex);

        // Reset stroke animation when switching to a new perk (without animation)
        if (index === currentIndex) {
          circle.style.transition = "none"; // Disable transition
          circle.style.strokeDashoffset = "283"; // Reset to full circle immediately
          setTimeout(() => {
            // Enable transition and start the animation from 0
            circle.style.transition = `stroke-dashoffset ${intervalTime}ms linear`;
            circle.style.strokeDashoffset = "0"; // Start filling
          }, 50); // Small delay to ensure the reset happens first
        } else {
          circle.style.transition = "none";
          circle.style.strokeDashoffset = "283"; // Reset the inactive circle stroke instantly
        }
      });

      currentIndex = (currentIndex + 1) % perks.length;
    }

    function startInterval() {
      intervalId = setInterval(updatePerks, intervalTime);
      updatePerks();
    }

    function cleanup() {
      if (intervalId) {
        clearInterval(intervalId);
      }
    }

    startInterval();

    // Cleanup on page unload
    window.addEventListener("beforeunload", cleanup);

    // Cleanup if the component is removed from the DOM
    const observer = new MutationObserver(() => {
      if (!document.body.contains(perks[0])) {
        cleanup();
        observer.disconnect();
      }
    });

    observer.observe(document.body, { childList: true, subtree: true });
  });
</script>
