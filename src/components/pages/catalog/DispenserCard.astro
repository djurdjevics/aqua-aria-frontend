---
import type { CollectionEntry } from 'astro:content'
import {  Image } from "astro:assets"
import ColorIndicator from "./ColorIndicator.astro";

interface Props {
  dispenser: CollectionEntry<"dispensers">;
}

const {dispenser} = Astro.props;
---

<a class="block bg-secondary rounded-2xl" href="katalog/aparati/1">
  <div class="relative rounded-2xl overflow-hidden max-h-[300px] w-full">
    <Image quality={100} class="h-full object-center w-full" src={dispenser.data.images[0]} alt={`${dispenser.data.name}`} width={300} height={300} />
  </div>
  <div class="flex justify-between items-center px-4 py-[10px]">
    <div class="space-y-1">
      <p class="font-display leading-[120%] text-bg text-lg">{dispenser.data.type} <br/> {dispenser.data.name}</p>
      <div class="flex gap-x-[6px]">
        {dispenser.data.availableColors.map((color, index) => (<ColorIndicator color={color} />))}
      </div>
    </div>
    <p class="text-bg font-semibold">{dispenser.data.price.toLocaleString("de-DE")}rsd</p>
  </div>
</a>