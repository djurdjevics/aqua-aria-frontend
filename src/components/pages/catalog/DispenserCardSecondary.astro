---
import type { CollectionEntry } from 'astro:content'
import ColorIndicator from "./ColorIndicator.astro";
import { Image } from "astro:assets";

interface Props {
  dispenser: CollectionEntry<"dispensers">;
}

const { dispenser } = Astro.props;
---

<a class="block bg-secondary rounded-2xl" href={dispenser.data.slug}>
  <div class="relative rounded-2xl overflow-hidden max-h-[300px] w-full">
    <Image quality={100} class="h-full object-cover w-full" src={dispenser.data.images[0]} alt={`${dispenser.data.name}`} width={300} height={300} />
  </div>
  <div class="flex justify-between items-center gap-y-2 px-4 py-[10px] md:p-4 lg:flex-col lg:items-start lg:p-3">
    <div class="space-y-1 w-full">
      <p class="leading-[120%] text-bg font-semibold text-lg lg:text-[24px]">{dispenser.data.type} <br class="lg:hidden"/> {dispenser.data.name}</p>
    </div>
    <p class="text-bg font-semibold lg:text-base lg:text-bg/80 lg:font-normal">{dispenser.data.price.toLocaleString("de-DE")}rsd</p>
  </div>
</a>