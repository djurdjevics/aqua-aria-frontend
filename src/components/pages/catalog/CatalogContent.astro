---
import {getCollection} from 'astro:content';
import Dispensers from "@components/pages/catalog/Dispensers.astro";
import Waters from "@components/pages/catalog/Waters.astro";

const searchParams = Astro.url.searchParams;
const filter = searchParams.get("q");

const dispensersCollection = await getCollection("dispensers");
const watersCollection = await getCollection("waters");

---
{filter === 'aparati' ?
  <Dispensers dispensers={dispensersCollection} />
 : filter === "vode" ?
  <Waters waters={watersCollection} />
 : <Fragment>
  <Dispensers dispensers={dispensersCollection} />
  <Waters waters={watersCollection} />
</Fragment>}

